## creamos las tablas 

CREATE DATABASE tomado_parcial;
use tomado_parcial;



CREATE TABLE nombre( 
	nombre VARCHAR(50) NOT NULL PRIMARY KEY   
);


CREATE TABLE apellido( 
	apellido VARCHAR(50) NOT NULL PRIMARY KEY   
);


CREATE TABLE part_proyecto(
	legajo INT NOT NULL auto_increment PRIMARY KEY , 
	nombre_apellido VARCHAR(255),
	rol_desempeñado VARCHAR(255),
	id_proyecto INT ,
	proyecto VARCHAR(255)
);

CREATE TABLE rend_horas(
  
	legajo INT NOT NULL,
	fecha_inicio DATETIME, 
	cant_horas_dia INT,
	cant_horas_semana INT,
	cant_horas_mes INT
);

ALTER TABLE rend_horas ADD CONSTRAINT 
	FOREIGN KEY (legajo)
REFERENCES part_proyecto(legajo);
	
create table liqui_proyect(
	legajo INT NOT NULL  ,
	rol_desempeñado VARCHAR(255),
	cliente VARCHAR(255),
	id_proyecto INT,
	proyecto VARCHAR(250),
	cant_horas_mes DOUBLE ,
	fecha_liquidacion DATETIME,
	estado_cuenta VARCHAR(25)
	
);


CREATE TABLE facturacion(
	cliente VARCHAR(255),
	id_proyecto INT AUTO_INCREMENT PRIMARY KEY,  
	proyecto VARCHAR(255),
	cost_proyecto DOUBLE 
);

	
ALTER TABLE part_proyecto ADD CONSTRAINT 
	FOREIGN KEY (id_proyecto)
REFERENCES  facturacion(id_proyecto);

CREATE TABLE auditoria(
	legajo  INT ,
	rol_desempeñado VARCHAR(90),
	Proyecto VARCHAR(90),
	Agregar_horas VARCHAR(1),
	Quita_horas VARCHAR(1)
);


drop table auditoria 
DROP TABLE rend_horas;
DROP TABLE part_proyecto;
DROP TABLE nombre ;
DROP TABLE apellido ;
DROP TABLE facturacion ;
DROP TABLE liqui_proyect;

